#!/bin/bash

# Recruiter Dashboard - Quick Test Script
# Run this to test the dashboard features

echo "ğŸš€ Recruiter Dashboard Test Script"
echo "=================================="
echo ""

# Check if dev server is running
if lsof -Pi :5173 -sTCP:LISTEN -t >/dev/null ; then
    echo "âœ… Dev server is running on http://localhost:5173"
else
    echo "âŒ Dev server is NOT running"
    echo "   Run: npm run dev (in tender-frontend directory)"
    exit 1
fi

echo ""
echo "ğŸ“‹ Manual Test Checklist:"
echo ""
echo "1. Navigate to: http://localhost:5173/recruiter"
echo "   (You must be logged in)"
echo ""
echo "2. Verify Metrics Cards:"
echo "   âœ“ New Applications: 3"
echo "   âœ“ Average Fit: 86%"
echo "   âœ“ Conversion Rate: 20%"
echo "   âœ“ Total Candidates: 10"
echo ""
echo "3. Test Filters:"
echo "   âœ“ Search: Type 'Sarah' â†’ Should show 1 result"
echo "   âœ“ Search: Type 'React' â†’ Should show candidates with React skill"
echo "   âœ“ Fit Score: Select '90% and above' â†’ Should show 3 candidates"
echo "   âœ“ Source: Select 'QualityMatch' â†’ Should show 5 candidates"
echo "   âœ“ Clear all filters â†’ Should show all 10 candidates"
echo ""
echo "4. Test Pipeline Columns:"
echo "   âœ“ New: 3 candidates (blue header)"
echo "   âœ“ Reviewed: 2 candidates (purple header)"
echo "   âœ“ Interview: 3 candidates (amber header)"
echo "   âœ“ Offer: 1 candidate (green header)"
echo "   âœ“ Rejected: 1 candidate (gray header)"
echo ""
echo "5. Test Candidate Card Actions:"
echo "   âœ“ Click 'Approve' on a 'New' candidate"
echo "      â†’ Should move to 'Reviewed' column"
echo "   âœ“ Click 'Approve' on a 'Reviewed' candidate"
echo "      â†’ Should move to 'Interview' column"
echo "   âœ“ Click 'Reject' on any candidate"
echo "      â†’ Should move to 'Rejected' column"
echo "   âœ“ Click 'Message' on any candidate"
echo "      â†’ Should open email client (mailto:)"
echo ""
echo "6. Test Responsiveness:"
echo "   âœ“ Desktop (1920px): All columns side-by-side"
echo "   âœ“ Tablet (768px): Horizontal scroll"
echo "   âœ“ Mobile (375px): Stacked view with scroll"
echo ""
echo "7. Verify Visual Polish:"
echo "   âœ“ Fit score badges color-coded (green â‰¥85%, blue â‰¥70%, gray <70%)"
echo "   âœ“ ATS sync badge shows for synced candidates"
echo "   âœ“ Relative time labels (e.g., '2h ago', 'Yesterday')"
echo "   âœ“ Skills tags truncated at 4 with '+N more'"
echo "   âœ“ Hover states on cards and buttons"
echo ""
echo "=================================="
echo ""
echo "ğŸ§ª To run unit tests:"
echo "   cd tender-frontend"
echo "   npm run test"
echo ""
echo "âœ… All tests passing = Feature is ready!"
echo ""
